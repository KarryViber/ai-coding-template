# CLAUDE.md

## {{PROJECT_NAME}}

> TODO: 一句话描述这个项目做什么

**模式**: Extend（现有代码修改/拓展）
**技术栈**: {{TECH_STACK}}

## 快速开始

```bash
# TODO: 安装和启动命令
```

## 现有架构概览

```
# TODO: 描述现有项目的核心结构
# 哪些目录/文件是核心？各自负责什么？
```

## 要改/加的内容

```
# TODO: 描述这次要做的修改或新增功能
```

---

## Extend 模式规则

### 先读后写

动手改代码前，必须先完成：

1. **理解现有架构** — 项目结构、核心模块、数据流
2. **理解现有风格** — 命名规范、代码组织方式、设计模式
3. **确定影响范围** — 这次修改会动到哪些文件？有没有连锁影响？
4. **说明修改方案** — 要改什么、怎么改、为什么这么改

### 一致性优先

- 沿用现有代码风格，不要引入新范式
- 沿用现有命名规范（驼峰/下划线/等）
- 新代码放在符合现有结构的位置
- 如果现有代码用了某个模式，新代码也用同样的模式

### 最小改动

- 只改需要改的，不顺手重构
- 不要"改进"没让你改的代码
- 不要升级依赖版本，除非是必要的
- 改动范围越小，出问题的概率越低

### Agent Team 协作

本模式预配置了 agent team：

- `explorer` — 深入分析现有代码架构、追踪调用链、理解设计意图
- `developer` — 按照现有风格实现修改

### 推荐 Skills

```bash
# Skill 发现
claude skill install find-skills

# 代码审查
claude skill install code-review
```

---

## AI 协作规则

### 工作流程

- 先说修改方案，确认后再动手
- 写完代码后：自动 review（bug、安全、边界情况）
- 改完代码后：确认能跑通了再说搞定
- 发现潜在问题主动提醒，即使我没问

### 代码风格

- 注释尽量少 — 只在逻辑不自明的地方加
- 不要加 JSDoc/docstring，除非我要求
- 不要过度工程化 — 适度结构，不搞过早抽象
- 不要碰我没让你改的代码

### Git

- 个人项目：直接提交到 main
- 不要自动 commit — 先问我要不要提交
- 使用 conventional commits + emoji（✨ feat, 🐛 fix 等）

### 调试

- 修复前先说明：1) 根本原因 2) 修复方案 3) 如何验证
- 通过完整用户流程验证，不要只验证改动的代码
- bug "重现"时先检查原始诊断是否正确

### 验证检查点

每次修改后：
1. 确认修改生效了
2. 测试之前正常的功能没被破坏
3. 跑完整用户流程验证
